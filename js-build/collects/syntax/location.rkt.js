import * as $rjs_core from '../../runtime/core.js';import * as M0 from "../../runtime/kernel.rkt.js";import * as M1 from "../racket/private/path.rkt.js";import * as M2 from "../../runtime/core.rkt.js";var variable_reference__gt_module_source_by_submod = function(vr5) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var src6 = M0.variable_reference__gt_module_source(vr5);var rname7 = M0.variable_reference__gt_resolved_module_path(vr5);if (rname7!==false) {var if_res1 = M0.resolved_module_path_name(rname7);} else {var if_res1 = false;}var name8 = if_res1;if (M0.pair_p(name8)!==false) {var if_res2 = M0.cons(src6,M0.cdr(name8));} else {var if_res2 = src6;}return if_res2;};var module_name_fixup = function(src9, path10) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return do_fixup(src9,path10,false);};var module_path_fixup = function(src11, path12) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return do_fixup(src11,path12,true);};var do_fixup = function(src13, path14, as_modpath_p15) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var last_pass16 = function(src17) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M0.path_p(src17)!==false) {var if_res7 = src17;} else {if (M0.symbol_p(src17)!==false) {if (as_modpath_p15!==false) {var if_res3 = M0.list($rjs_core.Symbol.make("quote"),src17);} else {var if_res3 = src17;}var if_res6 = if_res3;} else {if (M0.list_p(src17)!==false) {var base18 = last_pass16(M0.car(src17));var sm19 = M0.cdr(src17);if (as_modpath_p15!==false) {var if_res4 = M0.list_times_($rjs_core.Symbol.make("submod"),base18,sm19);} else {var if_res4 = M0.cons(base18,sm19);}var if_res5 = if_res4;} else {var if_res5 = $rjs_core.Symbol.make("top-level");}var if_res6 = if_res5;}var if_res7 = if_res6;}return if_res7;};if (M0.null_p(path14)!==false) {var if_res9 = src13;} else {if (M0.pair_p(src13)!==false) {var if_res8 = M0.append(src13,path14);} else {var if_res8 = M0.cons(src13,path14);}var if_res9 = if_res8;}return last_pass16(if_res9);};var syntax_source_directory = function(stx20) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var source21 = M0.syntax_source(stx20);if (M1.path_string_p(source21)!==false) {var let_result10 = M0.split_path(source21);var base22 = let_result10.getAt(0);var file23 = let_result10.getAt(1);var dir_p24 = let_result10.getAt(2);if (M0.path_p(base22)!==false) {var or_part25 = M0.current_load_relative_directory();if (or_part25!==false) {var if_res11 = or_part25;} else {var if_res11 = M0.current_directory();}var if_res12 = M0.path__gt_complete_path(base22,if_res11);} else {var if_res12 = false;}var if_res13 = if_res12;} else {var if_res13 = false;}return if_res13;};var syntax_source_file_name = function(stx26) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var f27 = M0.syntax_source(stx26);if (M1.path_string_p(f27)!==false) {var let_result14 = M0.split_path(f27);var base28 = let_result14.getAt(0);var file29 = let_result14.getAt(1);var dir_p30 = let_result14.getAt(2);var if_res15 = file29;} else {var if_res15 = false;}return if_res15;};var __rjs_quoted__ = {};__rjs_quoted__.module_name_fixup = module_name_fixup;__rjs_quoted__.variable_reference__gt_module_source_by_submod = variable_reference__gt_module_source_by_submod;__rjs_quoted__.module_path_fixup = module_path_fixup;export { __rjs_quoted__,syntax_source_file_name,syntax_source_directory };