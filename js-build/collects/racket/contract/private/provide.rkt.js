import * as $rjs_core from '../../../../runtime/core.js';import * as M0 from "../../private/for.rkt.js";import * as M1 from "./guts.rkt.js";import * as M2 from "../../private/kw.rkt.js";import * as M3 from "../../../../runtime/paramz.rkt.js";import * as M4 from "../../private/map.rkt.js";import * as M5 from "./blame.rkt.js";import * as M6 from "../../../syntax/srcloc.rkt.js";import * as M7 from "../../../../runtime/kernel.rkt.js";import * as M8 from "../../private/reverse.rkt.js";import * as M9 from "../../../../runtime/unsafe.rkt.js";var do_partial_app = function(ctc1006, val1007, name1008, pos_module_source1009, source1010, context_limit1011) {if (arguments.length!==6) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __context752 = $rjs_core.Marks.getFrames();var __context753;try {__context753 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M3.parameterization_key,M3.extend_parameterization(M7.continuation_mark_set_first(false,M3.parameterization_key),M1.warn_about_val_first_p,false));var __wcm_result754 = M1.get_by_build_val_first_projection(ctc1006);} finally {$rjs_core.Marks.updateFrame(__context752,__context753);}var p1012 = __wcm_result754;var __dot__dot__dot__by_private_by_provide_dot_rkt__256531014 = M5.make_blame;var temp11015 = M6.build_source_location(source1010);var name21016 = name1008;var temp31017 = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M1.contract_name(ctc1006);};var pos_module_source41018 = pos_module_source1009;var temp51019 = false;var temp61020 = true;var context_limit71021 = context_limit1011;var blme1013 = M7.checked_procedure_check_and_extract(M2.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot__by_private_by_provide_dot_rkt__256531014,M2.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("context-limit")),8)($rjs_core.Pair.makeList($rjs_core.Keyword.make("context-limit")),M7.list(context_limit71021),temp11015,name21016,temp31017,pos_module_source41018,temp51019,temp61020);var __context756 = $rjs_core.Marks.getFrames();var __context757;try {__context757 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M1.contract_continuation_mark_key,M7.cons(blme1013,$rjs_core.Symbol.make("no-negative-party")));var neg_accepter1022 = p1012(blme1013)(val1007);neg_accepter1022($rjs_core.Symbol.make("incomplete-blame-from-provide.rkt"));var __wcm_result758 = M7.values(neg_accepter1022,blme1013);} finally {$rjs_core.Marks.updateFrame(__context756,__context757);}return __wcm_result758;};var make_pc_struct_type = $rjs_core.attachProcedureArity(function(pos_module_source1023, struct_name1024, srcloc1025, struct_type1026, field_names1027, ...ctcs1028760) {if (arguments.length<5) {throw $rjs_core.racketContractError("arity mismatch");} else {}var ctcs1028 = $rjs_core.Pair.listFromArray(ctcs1028760);var blame1029 = M5.make_blame(M6.build_source_location(srcloc1025),struct_type1026,function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M7.list($rjs_core.Symbol.make("substruct-of"),struct_name1024);},pos_module_source1023,false,true);var lst1031 = ctcs1028;var lst1032 = field_names1027;if (M7.variable_reference_from_unsafe_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res761 = M7.rvoid();} else {var if_res761 = M0.__rjs_quoted__.check_list(lst1031);}if_res761;if (M7.variable_reference_from_unsafe_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res762 = M7.rvoid();} else {var if_res762 = M0.__rjs_quoted__.check_list(lst1032);}if_res762;var for_loop1033 = function(fold_var1034, lst1035, lst1036) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M7.pair_p(lst1035)!==false) {var if_res763 = M7.pair_p(lst1036);} else {var if_res763 = false;}if (if_res763!==false) {var ctc1037 = M9.unsafe_car(lst1035);var rest1038 = M9.unsafe_cdr(lst1035);var field_name1039 = M9.unsafe_car(lst1036);var rest1040 = M9.unsafe_cdr(lst1036);if (true!==false) {var if_res764 = true;} else {var if_res764 = false;}if (if_res764!==false) {var fold_var1042 = fold_var1034;var lam766 = M1.get_by_build_late_neg_projection(ctc1037);var __dot__dot__dot__by_private_by_provide_dot_rkt__688931044 = M5.__rjs_quoted__.blame_add_context7;var blame81045 = blame1029;var temp91046 = M7.format($rjs_core.UString.make("the ~a field of"),field_name1039);var temp101047 = true;if (M7.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res765 = M5.__rjs_quoted__.blame_add_context(false,temp101047,blame81045,temp91046);} else {var if_res765 = M7.checked_procedure_check_and_extract(M2.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot__by_private_by_provide_dot_rkt__688931044,M2.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("swap?")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("swap?")),M7.list(temp101047),blame81045,temp91046);}var fold_var1043 = M7.cons(lam766(if_res765),fold_var1042);var fold_var1041 = M7.values(fold_var1043);if (true!==false) {if (true!==false) {var if_res767 = M7.not(false);} else {var if_res767 = false;}var if_res768 = if_res767;} else {var if_res768 = false;}if (if_res768!==false) {var if_res769 = for_loop1033(fold_var1041,rest1038,rest1040);} else {var if_res769 = fold_var1041;}var if_res770 = if_res769;} else {var if_res770 = fold_var1034;}var if_res771 = if_res770;} else {var if_res771 = fold_var1034;}return if_res771;};var late_neg_acceptors1030 = M8.alt_reverse(for_loop1033(M7.rnull,lst1031,lst1032));return M7.chaperone_struct_type(struct_type1026,function(a1048, b1049, c1050, d1051, e1052, f1053, g1054, h1055) {if (arguments.length!==8) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M7.values(a1048,b1049,c1050,d1051,e1052,f1053,g1054,h1055);},function(x1056) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return x1056;},$rjs_core.attachProcedureArity(function(...args1057772) {var args1057 = $rjs_core.Pair.listFromArray(args1057772);var name1058 = false;var loop1060 = function(args1061) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M7.null_p(args1061)!==false) {var if_res774 = M7.rnull;} else {if (M7.null_p(M7.cdr(args1061))!==false) {name1058 = M7.car(args1061);var if_res773 = M7.rnull;} else {var if_res773 = M7.cons(M7.car(args1061),loop1060(M7.cdr(args1061)));}var if_res774 = if_res773;}return if_res774;};var vals1059 = loop1060(args1057);return M7.apply(M7.values,M4.map(function(late_neg_acceptors1062, val1063) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return late_neg_acceptors1062(val1063,$rjs_core.Symbol.make("not-enough-info-for-blame"));},late_neg_acceptors1030,vals1059));}));});var __rjs_quoted__ = {};__rjs_quoted__.do_partial_app = do_partial_app;__rjs_quoted__.make_pc_struct_type = make_pc_struct_type;export { __rjs_quoted__ };