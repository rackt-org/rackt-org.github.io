import * as $rjs_core from '../../../../runtime/core.js';import * as M0 from "./check-info.rkt.js";import * as M1 from "../../../../collects/racket/contract/private/guts.rkt.js";import * as M2 from "../../../../collects/racket/private/kw.rkt.js";import * as M3 from "../../../../runtime/paramz.rkt.js";import * as M4 from "../../../../collects/racket/private/map.rkt.js";import * as M5 from "./base.rkt.js";import * as M6 from "../../../../collects/racket/list.rkt.js";import * as M7 from "../../../../collects/racket/pretty.rkt.js";import * as M8 from "../../../../runtime/kernel.rkt.js";import * as M9 from "../../../../collects/racket/private/list-predicates.rkt.js";import * as M10 from "../../../../collects/racket/string.rkt.js";import * as M11 from "../../../../runtime/unsafe.rkt.js";import * as M12 from "../../../../collects/racket/private/misc.rkt.js";import * as M13 from "../../../../collects/syntax/location.rkt.js";var minimum_name_width = 9;var nested_indent_amount = 2;var multi_line_indent_amount = 2;var display_test_result = function(suite_names29568, verbose_p19569, res59570) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var res9571 = res59570;if (false!==false) {var if_res7894 = false;} else {var if_res7894 = verbose_p19569;}var verbose_p9572 = if_res7894;if (false!==false) {var if_res7895 = $rjs_core.Pair.makeList();} else {var if_res7895 = suite_names29568;}var suite_names9573 = if_res7895;var cname9574 = combine_names(M5.test_result_test_case_name(res9571),suite_names9573);var display_err9575 = function(e9576) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot__dot_t_by_private_by_format_dot_rkt__7309577 = display_test_failure_by_error20;var e219578 = e9576;var cname229579 = cname9574;var verbose_p239580 = verbose_p9572;if (M8.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res7896 = display_test_failure_by_error(verbose_p239580,e219578,cname229579);} else {var if_res7896 = M8.checked_procedure_check_and_extract(M2.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_t_by_private_by_format_dot_rkt__7309577,M2.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("verbose?")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("verbose?")),M8.list(verbose_p239580),e219578,cname229579);}return if_res7896;};if (M5.test_failure_p(res9571)!==false) {var if_res7898 = display_err9575(M5.test_failure_result(res9571));} else {if (M5.test_error_p(res9571)!==false) {var if_res7897 = display_err9575(M5.test_error_result(res9571));} else {var if_res7897 = M8.rvoid();}var if_res7898 = if_res7897;}return if_res7898;};var display_test_result9564 = function(given_kws9581, given_args9582, res59583) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M8.pair_p(given_kws9581)!==false) {var if_res7899 = M8.eq_p($rjs_core.Keyword.make("suite-names"),M8.car(given_kws9581));} else {var if_res7899 = false;}var suite_names49584 = if_res7899;if (suite_names49584!==false) {var if_res7900 = M8.car(given_args9582);} else {var if_res7900 = $rjs_core.Pair.makeList();}var suite_names29585 = if_res7900;if (suite_names49584!==false) {var if_res7901 = M8.cdr(given_kws9581);} else {var if_res7901 = given_kws9581;}var kws1405999586 = if_res7901;if (suite_names49584!==false) {var if_res7902 = M8.cdr(given_args9582);} else {var if_res7902 = given_args9582;}var kw_args1406009587 = if_res7902;var verbose_p39588 = M8.pair_p(kws1405999586);if (verbose_p39588!==false) {var if_res7903 = M8.car(kw_args1406009587);} else {var if_res7903 = false;}var verbose_p19589 = if_res7903;return display_test_result(suite_names29585,verbose_p19589,res59583);};var cl7907 = function(given_kws9596, given_args9597, res9598) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return display_test_result9564(given_kws9596,given_args9597,res9598);};var temp7909 = $rjs_core.attachProcedureArity(function() {var fixed_lam7908 = {'3':cl7907}[arguments.length];if (fixed_lam7908!==undefined) {return fixed_lam7908.apply(null,arguments);} else {return M8.error($rjs_core.UString.make("case-lambda: invalid case"));}},[3]);var temp7906 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("suite-names"),$rjs_core.Keyword.make("verbose?"));var cl7904 = function(res9599) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return display_test_result9564(M8.rnull,M8.rnull,res9599);};var display_test_result6 = M2.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws9590, given_argc9591) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M8.__eq_(given_argc9591,3)!==false) {var l11406019592 = given_kws9590;if (M8.null_p(l11406019592)!==false) {var if_res7911 = l11406019592;} else {if (M8.eq_p(M8.car(l11406019592),$rjs_core.Keyword.make("suite-names"))!==false) {var if_res7910 = M8.cdr(l11406019592);} else {var if_res7910 = l11406019592;}var if_res7911 = if_res7910;}var l11406019593 = if_res7911;var l11406029594 = l11406019593;if (M8.null_p(l11406029594)!==false) {var if_res7913 = l11406029594;} else {if (M8.eq_p(M8.car(l11406029594),$rjs_core.Keyword.make("verbose?"))!==false) {var if_res7912 = M8.cdr(l11406029594);} else {var if_res7912 = l11406029594;}var if_res7913 = if_res7912;}var l11406029595 = if_res7913;var if_res7914 = M8.null_p(l11406029595);} else {var if_res7914 = false;}return if_res7914;},temp7909,M8.rnull,temp7906,$rjs_core.attachProcedureArity(function() {var fixed_lam7905 = {'1':cl7904}[arguments.length];if (fixed_lam7905!==undefined) {return fixed_lam7905.apply(null,arguments);} else {return M8.error($rjs_core.UString.make("case-lambda: invalid case"));}},[1]));var combine_names = function(test_name9600, suite_names9601) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var or_part9603 = test_name9600;if (or_part9603!==false) {var if_res7915 = or_part9603;} else {var if_res7915 = M8.not(M9.empty_p(suite_names9601));}var any_names_p9602 = if_res7915;if (any_names_p9602!==false) {var or_part9606 = test_name9600;if (or_part9606!==false) {var if_res7916 = or_part9606;} else {var if_res7916 = $rjs_core.UString.make("Unnamed test");}var temp249604 = snoc(if_res7916,suite_names9601);var temp259605 = $rjs_core.UString.make(" > ");if (M8.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res7917 = M10.__rjs_quoted__.string_join(M11.unsafe_undefined,M11.unsafe_undefined,M11.unsafe_undefined,temp249604,temp259605);} else {var if_res7917 = M10.__rjs_quoted__.string_join9(temp249604,temp259605);}var if_res7918 = if_res7917;} else {var if_res7918 = false;}return if_res7918;};var snoc = function(v9607, vs9608) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M8.append(vs9608,M8.list(v9607));};var string_padding = function(str9609, desired_len9610) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M8.make_string(M8.max(desired_len9610-M8.string_length(str9609),0),$rjs_core.Char.charFromCodepoint(32));};var string_indent = function(str9611, amnt9612) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var pad9613 = M8.make_string(amnt9612,$rjs_core.Char.charFromCodepoint(32));var str269614 = str9611;var temp279615 = $rjs_core.UString.make("\n");var temp289616 = M8.string_append($rjs_core.UString.make("\n"),pad9613);if (M8.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res7919 = M10.__rjs_quoted__.string_replace(true,str269614,temp279615,temp289616);} else {var if_res7919 = M10.__rjs_quoted__.string_replace39(str269614,temp279615,temp289616);}return M8.string_append(pad9613,if_res7919);};var lifted_by_51 = M13.module_name_fixup(M13.__rjs_quoted__.variable_reference__gt_module_source_by_submod($rjs_core.Symbol.make("#%variable-reference")),M8.list());var check_info_name_width = function(check_info9617) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M8.string_length(M8.symbol__gt_string(M0.__rjs_quoted__.idY80(lifted_by_51,check_info9617)));};var check_info_stack_name_width = function(check_info_stack9618) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var widths9619 = M4.map(check_info_name_width,check_info_stack9618);return M8.apply(M8.max,0,widths9619);};var check_info_stack__gt_string = function(name_width79620, stack_times_99621, verbose_p109622) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var stack_times_9623 = stack_times_99621;var verbose_p9624 = verbose_p109622;if (M8.eq_p(name_width79620,M11.unsafe_undefined)!==false) {var if_res7920 = minimum_name_width;} else {var if_res7920 = name_width79620;}var name_width_times_9625 = if_res7920;if (verbose_p9624!==false) {var if_res7921 = stack_times_9623;} else {var if_res7921 = simplify_params(stack_times_9623);}var stack9626 = if_res7921;var name_width9627 = M8.max(name_width_times_9625,check_info_stack_name_width(stack9626));var info__gt_str9628 = function(info9629) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return check_info__gt_string(info9629,verbose_p9624,name_width9627);};var temp299630 = M4.map(info__gt_str9628,stack9626);var temp309631 = $rjs_core.UString.make("\n");if (M8.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res7922 = M10.__rjs_quoted__.string_join(M11.unsafe_undefined,M11.unsafe_undefined,M11.unsafe_undefined,temp299630,temp309631);} else {var if_res7922 = M10.__rjs_quoted__.string_join9(temp299630,temp309631);}return if_res7922;};var check_info_stack__gt_string9565 = function(given_kws9632, given_args9633, stack_times_99634, verbose_p109635) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}var name_width89636 = M8.pair_p(given_kws9632);if (name_width89636!==false) {var if_res7923 = M8.car(given_args9633);} else {var if_res7923 = M11.unsafe_undefined;}var name_width79637 = if_res7923;return check_info_stack__gt_string(name_width79637,stack_times_99634,verbose_p109635);};var cl7927 = function(given_kws9642, given_args9643, stack_times_9644, verbose_p9645) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}return check_info_stack__gt_string9565(given_kws9642,given_args9643,stack_times_9644,verbose_p9645);};var temp7929 = $rjs_core.attachProcedureArity(function() {var fixed_lam7928 = {'4':cl7927}[arguments.length];if (fixed_lam7928!==undefined) {return fixed_lam7928.apply(null,arguments);} else {return M8.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4]);var temp7926 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("name-width"));var cl7924 = function(stack_times_9646, verbose_p9647) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return check_info_stack__gt_string9565(M8.rnull,M8.rnull,stack_times_9646,verbose_p9647);};var check_info_stack__gt_string11 = M2.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws9638, given_argc9639) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M8.__eq_(given_argc9639,4)!==false) {var l11406039640 = given_kws9638;if (M8.null_p(l11406039640)!==false) {var if_res7931 = l11406039640;} else {if (M8.eq_p(M8.car(l11406039640),$rjs_core.Keyword.make("name-width"))!==false) {var if_res7930 = M8.cdr(l11406039640);} else {var if_res7930 = l11406039640;}var if_res7931 = if_res7930;}var l11406039641 = if_res7931;var if_res7932 = M8.null_p(l11406039641);} else {var if_res7932 = false;}return if_res7932;},temp7929,M8.rnull,temp7926,$rjs_core.attachProcedureArity(function() {var fixed_lam7925 = {'2':cl7924}[arguments.length];if (fixed_lam7925!==undefined) {return fixed_lam7925.apply(null,arguments);} else {return M8.error($rjs_core.UString.make("case-lambda: invalid case"));}},[2]));var __context7933 = $rjs_core.Marks.getFrames();var __context7934;try {__context7934 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M1.contract_continuation_mark_key,M8.cons(M0.__rjs_quoted__.idB190,$rjs_core.Symbol.make("no-negative-party")));var __wcm_result7935 = M0.__rjs_quoted__.idX187(M13.module_name_fixup(M13.__rjs_quoted__.variable_reference__gt_module_source_by_submod($rjs_core.Symbol.make("#%variable-reference")),M8.list()));} finally {$rjs_core.Marks.updateFrame(__context7933,__context7934);}var lifted_by_87 = __wcm_result7935;var __context7937 = $rjs_core.Marks.getFrames();var __context7938;try {__context7938 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M1.contract_continuation_mark_key,M8.cons(M0.__rjs_quoted__.idB158,$rjs_core.Symbol.make("no-negative-party")));var __wcm_result7939 = M0.__rjs_quoted__.idX155(M13.module_name_fixup(M13.__rjs_quoted__.variable_reference__gt_module_source_by_submod($rjs_core.Symbol.make("#%variable-reference")),M8.list()));} finally {$rjs_core.Marks.updateFrame(__context7937,__context7938);}var lifted_by_89 = __wcm_result7939;var check_info__gt_string = function(info9648, verbose_p9649, name_width9650) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var name9651 = M8.symbol__gt_string(M0.__rjs_quoted__.idY80(lifted_by_51,info9648));var value9652 = M0.__rjs_quoted__.idY85(lifted_by_51,info9648);if (lifted_by_87(value9652)!==false) {var new_info9653 = M0.__rjs_quoted__.idY94(lifted_by_51,M0.__rjs_quoted__.idY80(lifted_by_51,info9648),M0.__rjs_quoted__.idY183(lifted_by_51,value9652)());var if_res7947 = check_info__gt_string(new_info9653,verbose_p9649,name_width9650);} else {if (lifted_by_89(value9652)!==false) {var nested_str9654 = nested_info__gt_string(value9652,verbose_p9649,name_width9650);var if_res7946 = M8.format($rjs_core.UString.make("~a:\n~a"),name9651,nested_str9654);} else {var pad9655 = string_padding(name9651,name_width9650);var __context7941 = $rjs_core.Marks.getFrames();var __context7942;try {__context7942 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M3.parameterization_key,M3.extend_parameterization(M8.continuation_mark_set_first(false,M3.parameterization_key),M7.pretty_print_columns,$rjs_core.Symbol.make("infinity")));var __wcm_result7943 = M8.format($rjs_core.UString.make("~a:~a  ~a"),name9651,pad9655,M0.__rjs_quoted__.idY198(lifted_by_51,value9652));} finally {$rjs_core.Marks.updateFrame(__context7941,__context7942);}var one_line_candidate9656 = __wcm_result7943;if (M8.__lt__eq_(M8.string_length(one_line_candidate9656),M7.pretty_print_columns())!==false) {var if_res7945 = one_line_candidate9656;} else {var if_res7945 = M8.format($rjs_core.UString.make("~a:\n~a"),name9651,string_indent(M0.__rjs_quoted__.idY198(lifted_by_51,value9652),multi_line_indent_amount));}var if_res7946 = if_res7945;}var if_res7947 = if_res7946;}return if_res7947;};var nested_info__gt_string = function(nested9657, verbose_p9658, name_width9659) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var infos9660 = M0.__rjs_quoted__.idY151(lifted_by_51,nested9657);var __dot__dot__dot_t_by_private_by_format_dot_rkt__33059662 = check_info_stack__gt_string11;var infos319663 = infos9660;var verbose_p329664 = verbose_p9658;var name_width339665 = name_width9659;if (M8.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res7948 = check_info_stack__gt_string(name_width339665,infos319663,verbose_p329664);} else {var if_res7948 = M8.checked_procedure_check_and_extract(M2.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_t_by_private_by_format_dot_rkt__33059662,M2.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("name-width")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("name-width")),M8.list(name_width339665),infos319663,verbose_p329664);}var nested_str9661 = if_res7948;return string_indent(nested_str9661,nested_indent_amount);};var display_check_info_stack = function(verbose_p129666, stack149667) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var stack9668 = stack149667;if (false!==false) {var if_res7949 = false;} else {var if_res7949 = verbose_p129666;}var verbose_p9669 = if_res7949;var stack349670 = stack9668;var verbose_p359671 = verbose_p9669;if (M8.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res7950 = check_info_stack__gt_string(M11.unsafe_undefined,stack349670,verbose_p359671);} else {var if_res7950 = check_info_stack__gt_string11(stack349670,verbose_p359671);}return M12.displayln(if_res7950);};var display_check_info_stack9566 = function(given_kws9672, given_args9673, stack149674) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var verbose_p139675 = M8.pair_p(given_kws9672);if (verbose_p139675!==false) {var if_res7951 = M8.car(given_args9673);} else {var if_res7951 = false;}var verbose_p129676 = if_res7951;return display_check_info_stack(verbose_p129676,stack149674);};var cl7955 = function(given_kws9681, given_args9682, stack9683) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return display_check_info_stack9566(given_kws9681,given_args9682,stack9683);};var temp7957 = $rjs_core.attachProcedureArity(function() {var fixed_lam7956 = {'3':cl7955}[arguments.length];if (fixed_lam7956!==undefined) {return fixed_lam7956.apply(null,arguments);} else {return M8.error($rjs_core.UString.make("case-lambda: invalid case"));}},[3]);var temp7954 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("verbose?"));var cl7952 = function(stack9684) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return display_check_info_stack9566(M8.rnull,M8.rnull,stack9684);};var display_check_info_stack15 = M2.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws9677, given_argc9678) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M8.__eq_(given_argc9678,3)!==false) {var l11406049679 = given_kws9677;if (M8.null_p(l11406049679)!==false) {var if_res7959 = l11406049679;} else {if (M8.eq_p(M8.car(l11406049679),$rjs_core.Keyword.make("verbose?"))!==false) {var if_res7958 = M8.cdr(l11406049679);} else {var if_res7958 = l11406049679;}var if_res7959 = if_res7958;}var l11406049680 = if_res7959;var if_res7960 = M8.null_p(l11406049680);} else {var if_res7960 = false;}return if_res7960;},temp7957,M8.rnull,temp7954,$rjs_core.attachProcedureArity(function() {var fixed_lam7953 = {'1':cl7952}[arguments.length];if (fixed_lam7953!==undefined) {return fixed_lam7953.apply(null,arguments);} else {return M8.error($rjs_core.UString.make("case-lambda: invalid case"));}},[1]));var display_test_name = function(name9685) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var or_part9686 = name9685;if (or_part9686!==false) {var if_res7961 = or_part9686;} else {var if_res7961 = $rjs_core.UString.make("Unnamed test ");}return M12.displayln(if_res7961);};var lifted_by_126 = M0.__rjs_quoted__.idX63(lifted_by_51);var __context7962 = $rjs_core.Marks.getFrames();var __context7963;try {__context7963 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M1.contract_continuation_mark_key,M8.cons(M0.__rjs_quoted__.idB174,$rjs_core.Symbol.make("no-negative-party")));var __wcm_result7964 = M0.__rjs_quoted__.idX171(M13.module_name_fixup(M13.__rjs_quoted__.variable_reference__gt_module_source_by_submod($rjs_core.Symbol.make("#%variable-reference")),M8.list()));} finally {$rjs_core.Marks.updateFrame(__context7962,__context7963);}var lifted_by_129 = __wcm_result7964;var simplify_params = function(stack9687) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var has_actual_p9688 = M4.ormap(lifted_by_126,stack9687);var reject_p9689 = function(info9690) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var or_part9691 = lifted_by_129(M0.__rjs_quoted__.idY85(lifted_by_51,info9690));if (or_part9691!==false) {var if_res7967 = or_part9691;} else {if (has_actual_p9688!==false) {var if_res7966 = M0.__rjs_quoted__.idY24(lifted_by_51,info9690);} else {var if_res7966 = false;}var if_res7967 = if_res7966;}return if_res7967;};return M6.filter_not(reject_p9689,stack9687);};var __context7968 = $rjs_core.Marks.getFrames();var __context7969;try {__context7969 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M1.contract_continuation_mark_key,M8.cons(M0.__rjs_quoted__.idB205,$rjs_core.Symbol.make("no-negative-party")));var __wcm_result7970 = M0.__rjs_quoted__.idX202(M13.module_name_fixup(M13.__rjs_quoted__.variable_reference__gt_module_source_by_submod($rjs_core.Symbol.make("#%variable-reference")),M8.list()));} finally {$rjs_core.Marks.updateFrame(__context7968,__context7969);}var lifted_by_142 = __wcm_result7970;var display_test_failure_by_error = function(verbose_p169692, e199693, name189694) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}var e9695 = e199693;if (false!==false) {var if_res7972 = false;} else {var if_res7972 = name189694;}var name9696 = if_res7972;if (false!==false) {var if_res7973 = false;} else {var if_res7973 = verbose_p169692;}var verbose_p9697 = if_res7973;var __context7978 = $rjs_core.Marks.getFrames();var __context7979;try {__context7979 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M3.parameterization_key,M3.extend_parameterization(M8.continuation_mark_set_first(false,M3.parameterization_key),M8.current_output_port,M8.current_error_port()));display_delimiter();if (name9696!==false) {var if_res7974 = display_test_name(name9696);} else {var if_res7974 = M8.rvoid();}if_res7974;if (M5.exn_test_check_p(e9695)!==false) {display_raised_summary($rjs_core.UString.make("FAILURE"),e9695);var __dot__dot__dot_t_by_private_by_format_dot_rkt__45269698 = display_check_info_stack15;var temp369699 = M5.exn_test_check_stack(e9695);var verbose_p379700 = verbose_p9697;if (M8.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res7975 = display_check_info_stack(verbose_p379700,temp369699);} else {var if_res7975 = M8.checked_procedure_check_and_extract(M2.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_t_by_private_by_format_dot_rkt__45269698,M2.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("verbose?")),3)($rjs_core.Pair.makeList($rjs_core.Keyword.make("verbose?")),M8.list(verbose_p379700),temp369699);}if_res7975;var if_res7977 = display_raised_message(e9695);} else {display_raised_summary($rjs_core.UString.make("ERROR"),e9695);var __dot__dot__dot_t_by_private_by_format_dot_rkt__47479701 = display_check_info_stack15;var temp389702 = lifted_by_142();var verbose_p399703 = verbose_p9697;if (M8.variable_reference_constant_p($rjs_core.Symbol.make("#%variable-reference"))!==false) {var if_res7976 = display_check_info_stack(verbose_p399703,temp389702);} else {var if_res7976 = M8.checked_procedure_check_and_extract(M2.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_t_by_private_by_format_dot_rkt__47479701,M2.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("verbose?")),3)($rjs_core.Pair.makeList($rjs_core.Keyword.make("verbose?")),M8.list(verbose_p399703),temp389702);}if_res7976;var if_res7977 = display_raised_message(e9695);}if_res7977;var __wcm_result7980 = display_delimiter();} finally {$rjs_core.Marks.updateFrame(__context7978,__context7979);}return __wcm_result7980;};var display_test_failure_by_error9567 = function(given_kws9704, given_args9705, e199706, name189707) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}var verbose_p179708 = M8.pair_p(given_kws9704);if (verbose_p179708!==false) {var if_res7982 = M8.car(given_args9705);} else {var if_res7982 = false;}var verbose_p169709 = if_res7982;return display_test_failure_by_error(verbose_p169709,e199706,name189707);};var cl7987 = function(given_kws9714, given_args9715, e9716) {if (arguments.length!==3) {throw $rjs_core.racketContractError("arity mismatch");} else {}return display_test_failure_by_error9567(given_kws9714,given_args9715,e9716,false);};var cl7988 = function(given_kws9717, given_args9718, e9719, name189720) {if (arguments.length!==4) {throw $rjs_core.racketContractError("arity mismatch");} else {}return display_test_failure_by_error9567(given_kws9717,given_args9718,e9719,name189720);};var temp7990 = $rjs_core.attachProcedureArity(function() {var fixed_lam7989 = {'3':cl7987,'4':cl7988}[arguments.length];if (fixed_lam7989!==undefined) {return fixed_lam7989.apply(null,arguments);} else {return M8.error($rjs_core.UString.make("case-lambda: invalid case"));}},[3,4]);var temp7986 = $rjs_core.Pair.makeList($rjs_core.Keyword.make("verbose?"));var cl7983 = function(e9721) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return display_test_failure_by_error9567(M8.rnull,M8.rnull,e9721,false);};var cl7984 = function(e9722, name189723) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return display_test_failure_by_error9567(M8.rnull,M8.rnull,e9722,name189723);};var display_test_failure_by_error20 = M2.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws9710, given_argc9711) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M8.__gt__eq_(given_argc9711,3)!==false) {var if_res7991 = M8.__lt__eq_(given_argc9711,4);} else {var if_res7991 = false;}if (if_res7991!==false) {var l11406059712 = given_kws9710;if (M8.null_p(l11406059712)!==false) {var if_res7993 = l11406059712;} else {if (M8.eq_p(M8.car(l11406059712),$rjs_core.Keyword.make("verbose?"))!==false) {var if_res7992 = M8.cdr(l11406059712);} else {var if_res7992 = l11406059712;}var if_res7993 = if_res7992;}var l11406059713 = if_res7993;var if_res7994 = M8.null_p(l11406059713);} else {var if_res7994 = false;}return if_res7994;},temp7990,M8.rnull,temp7986,$rjs_core.attachProcedureArity(function() {var fixed_lam7985 = {'1':cl7983,'2':cl7984}[arguments.length];if (fixed_lam7985!==undefined) {return fixed_lam7985.apply(null,arguments);} else {return M8.error($rjs_core.UString.make("case-lambda: invalid case"));}},[1,2]));var display_raised_message = function(v9724) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M8.exn_p(v9724)!==false) {if (M8.not(M8.equal_p(M8.exn_message(v9724),$rjs_core.UString.make("")))!==false) {M8.newline();var if_res7995 = M12.displayln(M8.exn_message(v9724));} else {var if_res7995 = M8.rvoid();}var if_res7996 = if_res7995;} else {var if_res7996 = M8.printf($rjs_core.UString.make("\nA value other than an exception was raised: ~e\n"),v9724);}return if_res7996;};var display_delimiter = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M12.displayln($rjs_core.UString.make("--------------------"));};var display_raised_summary = function(desc9725, raised_value9726) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M8.exn_p(raised_value9726)!==false) {var __context7997 = $rjs_core.Marks.getFrames();var __context7998;try {__context7998 = $rjs_core.Marks.enterFrame();$rjs_core.Marks.setMark(M3.parameterization_key,M3.extend_parameterization(M8.continuation_mark_set_first(false,M3.parameterization_key),M8.error_print_context_length,0));var __wcm_result7999 = M8.error_display_handler()(desc9725,raised_value9726);} finally {$rjs_core.Marks.updateFrame(__context7997,__context7998);}var if_res8001 = __wcm_result7999;} else {var if_res8001 = M12.displayln(desc9725);}return if_res8001;};var __rjs_quoted__ = {};__rjs_quoted__.display_test_failure_by_error20 = display_test_failure_by_error20;__rjs_quoted__.display_test_result6 = display_test_result6;__rjs_quoted__.display_test_failure_by_error = display_test_failure_by_error;__rjs_quoted__.display_test_result = display_test_result;__rjs_quoted__.display_check_info_stack = display_check_info_stack;__rjs_quoted__.display_check_info_stack15 = display_check_info_stack15;__rjs_quoted__.check_info_stack__gt_string11 = check_info_stack__gt_string11;__rjs_quoted__.check_info_stack__gt_string = check_info_stack__gt_string;export { __rjs_quoted__,display_test_failure_by_error,display_test_result };